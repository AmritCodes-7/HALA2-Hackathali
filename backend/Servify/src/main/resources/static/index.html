<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Servify Chat</title>
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600&family=Space+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
    <style>
      *,
      *::before,
      *::after {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      :root {
        --bg: #0a0a0f;
        --surface: #13131a;
        --surface2: #1c1c27;
        --border: #2a2a3d;
        --accent: #7c6ef5;
        --accent2: #5eead4;
        --text: #e8e8f0;
        --muted: #6b6b8a;
        --bubble-me: #7c6ef5;
        --bubble-them: #1c1c27;
        --danger: #f87171;
        --success: #4ade80;
      }

      body {
        font-family: "DM Sans", sans-serif;
        background: var(--bg);
        color: var(--text);
        height: 100vh;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      /* ---- BACKGROUND ---- */
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background:
          radial-gradient(
            ellipse 60% 40% at 20% 10%,
            rgba(124, 110, 245, 0.12) 0%,
            transparent 60%
          ),
          radial-gradient(
            ellipse 50% 40% at 80% 90%,
            rgba(94, 234, 212, 0.08) 0%,
            transparent 60%
          );
        pointer-events: none;
        z-index: 0;
      }

      /* ---- APP SHELL ---- */
      #app {
        position: relative;
        z-index: 1;
        width: 100%;
        max-width: 900px;
        height: 92vh;
        display: flex;
        border-radius: 20px;
        overflow: hidden;
        border: 1px solid var(--border);
        box-shadow: 0 40px 100px rgba(0, 0, 0, 0.6);
      }

      /* ======= LOGIN PAGE ======= */
      #loginPage {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: var(--surface);
        gap: 0;
        animation: fadeIn 0.4s ease;
      }

      .login-card {
        width: 100%;
        max-width: 380px;
        padding: 48px 40px;
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .login-logo {
        font-family: "Space Mono", monospace;
        font-size: 22px;
        font-weight: 700;
        color: var(--accent);
        letter-spacing: -0.5px;
        margin-bottom: 8px;
      }
      .login-logo span {
        color: var(--accent2);
      }

      .login-subtitle {
        font-size: 13px;
        color: var(--muted);
        margin-top: -12px;
        margin-bottom: 8px;
      }

      .field-label {
        font-size: 11px;
        font-weight: 600;
        letter-spacing: 0.08em;
        color: var(--muted);
        text-transform: uppercase;
        margin-bottom: 6px;
      }

      .field-wrap {
        display: flex;
        flex-direction: column;
      }

      input[type="text"],
      input[type="password"] {
        background: var(--surface2);
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 12px 14px;
        color: var(--text);
        font-family: "DM Sans", sans-serif;
        font-size: 14px;
        outline: none;
        transition:
          border-color 0.2s,
          box-shadow 0.2s;
      }
      input:focus {
        border-color: var(--accent);
        box-shadow: 0 0 0 3px rgba(124, 110, 245, 0.15);
      }

      .btn-primary {
        background: var(--accent);
        color: #fff;
        border: none;
        border-radius: 10px;
        padding: 13px;
        font-family: "DM Sans", sans-serif;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition:
          opacity 0.2s,
          transform 0.15s;
        margin-top: 4px;
      }
      .btn-primary:hover {
        opacity: 0.88;
        transform: translateY(-1px);
      }
      .btn-primary:active {
        transform: translateY(0);
      }
      .btn-primary:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
      }

      #loginError {
        font-size: 12px;
        color: var(--danger);
        min-height: 16px;
        text-align: center;
      }

      /* ======= CHAT PAGE ======= */
      #chatPage {
        display: none;
        width: 100%;
        flex-direction: row;
      }
      #chatPage.active {
        display: flex;
      }

      /* ---- SIDEBAR ---- */
      #sidebar {
        width: 260px;
        min-width: 260px;
        background: var(--surface);
        border-right: 1px solid var(--border);
        display: flex;
        flex-direction: column;
      }

      .sidebar-header {
        padding: 20px 16px 14px;
        border-bottom: 1px solid var(--border);
      }

      .sidebar-title {
        font-family: "Space Mono", monospace;
        font-size: 13px;
        font-weight: 700;
        color: var(--accent);
        letter-spacing: -0.3px;
      }

      .user-chip {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-top: 10px;
      }

      .avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--accent), var(--accent2));
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: 700;
        color: #fff;
        flex-shrink: 0;
      }

      .user-name {
        font-size: 13px;
        font-weight: 500;
      }
      .user-status {
        font-size: 11px;
        color: var(--success);
        display: flex;
        align-items: center;
        gap: 4px;
      }
      .dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--success);
      }

      .tabs {
        display: flex;
        border-bottom: 1px solid var(--border);
      }
      .tab {
        flex: 1;
        padding: 10px;
        font-size: 11px;
        font-weight: 600;
        text-align: center;
        cursor: pointer;
        color: var(--muted);
        letter-spacing: 0.05em;
        text-transform: uppercase;
        border-bottom: 2px solid transparent;
        transition:
          color 0.2s,
          border-color 0.2s;
      }
      .tab.active {
        color: var(--accent);
        border-color: var(--accent);
      }

      .sidebar-section {
        flex: 1;
        overflow-y: auto;
        padding: 8px 0;
      }

      .contact-item {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px 16px;
        cursor: pointer;
        border-radius: 0;
        transition: background 0.15s;
      }
      .contact-item:hover {
        background: var(--surface2);
      }
      .contact-item.active {
        background: rgba(124, 110, 245, 0.12);
      }

      .contact-info {
        flex: 1;
        min-width: 0;
      }
      .contact-name {
        font-size: 13px;
        font-weight: 500;
      }
      .contact-preview {
        font-size: 11px;
        color: var(--muted);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .sidebar-footer {
        padding: 12px 16px;
        border-top: 1px solid var(--border);
      }
      .btn-logout {
        width: 100%;
        background: transparent;
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 8px;
        color: var(--muted);
        font-family: "DM Sans", sans-serif;
        font-size: 12px;
        cursor: pointer;
        transition:
          border-color 0.2s,
          color 0.2s;
      }
      .btn-logout:hover {
        border-color: var(--danger);
        color: var(--danger);
      }

      /* ---- MAIN CHAT ---- */
      #chatMain {
        flex: 1;
        display: flex;
        flex-direction: column;
        background: var(--bg);
        min-width: 0;
      }

      .chat-header {
        padding: 14px 20px;
        border-bottom: 1px solid var(--border);
        display: flex;
        align-items: center;
        gap: 12px;
        background: var(--surface);
      }

      .chat-header-info {
        flex: 1;
      }
      .chat-header-name {
        font-size: 14px;
        font-weight: 600;
      }
      .chat-header-sub {
        font-size: 11px;
        color: var(--muted);
      }

      .mode-badge {
        font-family: "Space Mono", monospace;
        font-size: 10px;
        padding: 3px 8px;
        border-radius: 20px;
        font-weight: 700;
        letter-spacing: 0.05em;
      }
      .mode-badge.public {
        background: rgba(94, 234, 212, 0.12);
        color: var(--accent2);
        border: 1px solid rgba(94, 234, 212, 0.25);
      }
      .mode-badge.private {
        background: rgba(124, 110, 245, 0.12);
        color: var(--accent);
        border: 1px solid rgba(124, 110, 245, 0.25);
      }

      /* ---- MESSAGES ---- */
      #messages {
        flex: 1;
        overflow-y: auto;
        padding: 20px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        scroll-behavior: smooth;
      }

      #messages::-webkit-scrollbar {
        width: 4px;
      }
      #messages::-webkit-scrollbar-thumb {
        background: var(--border);
        border-radius: 4px;
      }

      .msg-row {
        display: flex;
        align-items: flex-end;
        gap: 8px;
        animation: msgIn 0.25s ease;
      }
      .msg-row.mine {
        flex-direction: row-reverse;
      }

      @keyframes msgIn {
        from {
          opacity: 0;
          transform: translateY(8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .msg-bubble {
        max-width: 65%;
        padding: 10px 14px;
        border-radius: 16px;
        font-size: 13.5px;
        line-height: 1.5;
        position: relative;
      }
      .msg-row:not(.mine) .msg-bubble {
        background: var(--bubble-them);
        border: 1px solid var(--border);
        border-bottom-left-radius: 4px;
      }
      .msg-row.mine .msg-bubble {
        background: var(--bubble-me);
        border-bottom-right-radius: 4px;
      }

      .msg-sender {
        font-size: 10px;
        font-weight: 700;
        color: var(--accent2);
        margin-bottom: 3px;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }
      .msg-row.mine .msg-sender {
        display: none;
      }

      .msg-time {
        font-size: 10px;
        color: rgba(255, 255, 255, 0.35);
        margin-top: 4px;
        text-align: right;
      }

      .sys-msg {
        text-align: center;
        font-size: 11px;
        color: var(--muted);
        padding: 4px 12px;
        background: rgba(255, 255, 255, 0.03);
        border-radius: 20px;
        align-self: center;
      }

      /* ---- INPUT AREA ---- */
      .chat-input-area {
        padding: 14px 20px;
        border-top: 1px solid var(--border);
        background: var(--surface);
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .receiver-row {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 12px;
        color: var(--muted);
      }
      .receiver-row input {
        flex: 1;
        background: var(--surface2);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 7px 10px;
        color: var(--text);
        font-family: "DM Sans", sans-serif;
        font-size: 12px;
        outline: none;
        transition: border-color 0.2s;
      }
      .receiver-row input:focus {
        border-color: var(--accent);
      }

      .input-row {
        display: flex;
        gap: 10px;
        align-items: flex-end;
      }

      #msgInput {
        flex: 1;
        background: var(--surface2);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 11px 14px;
        color: var(--text);
        font-family: "DM Sans", sans-serif;
        font-size: 14px;
        outline: none;
        resize: none;
        height: 44px;
        transition: border-color 0.2s;
      }
      #msgInput:focus {
        border-color: var(--accent);
      }

      .btn-send {
        width: 44px;
        height: 44px;
        border-radius: 12px;
        background: var(--accent);
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        transition:
          opacity 0.2s,
          transform 0.15s;
      }
      .btn-send:hover {
        opacity: 0.85;
        transform: scale(1.05);
      }
      .btn-send:disabled {
        opacity: 0.4;
        cursor: not-allowed;
        transform: none;
      }
      .btn-send svg {
        width: 18px;
        height: 18px;
        fill: #fff;
      }

      /* ---- EMPTY STATE ---- */
      .empty-state {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 12px;
        color: var(--muted);
      }
      .empty-icon {
        font-size: 48px;
        opacity: 0.3;
      }
      .empty-text {
        font-size: 13px;
      }

      /* ---- WS STATUS ---- */
      .ws-status {
        font-size: 10px;
        display: flex;
        align-items: center;
        gap: 4px;
        color: var(--muted);
      }
      .ws-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--muted);
        transition: background 0.3s;
      }
      .ws-dot.connected {
        background: var(--success);
      }
      .ws-dot.error {
        background: var(--danger);
      }

      /* ---- ANIMATIONS ---- */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.97);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      /* ---- CONNECT BANNER ---- */
      #connectBanner {
        padding: 8px 20px;
        background: rgba(124, 110, 245, 0.1);
        border-bottom: 1px solid rgba(124, 110, 245, 0.2);
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 12px;
        color: var(--accent);
      }
      .btn-connect {
        background: var(--accent);
        color: #fff;
        border: none;
        border-radius: 6px;
        padding: 5px 12px;
        font-family: "DM Sans", sans-serif;
        font-size: 11px;
        font-weight: 600;
        cursor: pointer;
        transition: opacity 0.2s;
      }
      .btn-connect:hover {
        opacity: 0.85;
      }
      .hidden {
        display: none !important;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <!-- ===== LOGIN PAGE ===== -->
      <div id="loginPage">
        <div class="login-card">
          <div class="login-logo">Servi<span>fy</span></div>
          <div class="login-subtitle">Hospital communication platform</div>

          <div class="field-wrap">
            <div class="field-label">Username</div>
            <input
              type="text"
              id="loginUsername"
              placeholder="Enter username"
              autocomplete="username"
            />
          </div>

          <div class="field-wrap">
            <div class="field-label">Password</div>
            <input
              type="password"
              id="loginPassword"
              placeholder="Enter password"
              autocomplete="current-password"
            />
          </div>

          <button class="btn-primary" id="loginBtn" onclick="login()">
            Sign in
          </button>
          <div id="loginError"></div>
        </div>
      </div>

      <!-- ===== CHAT PAGE ===== -->
      <div id="chatPage">
        <!-- SIDEBAR -->
        <div id="sidebar">
          <div class="sidebar-header">
            <div class="sidebar-title">Servify Chat</div>
            <div class="user-chip">
              <div class="avatar" id="myAvatar">?</div>
              <div>
                <div class="user-name" id="myUsername">—</div>
                <div class="ws-status">
                  <div class="ws-dot" id="wsDot"></div>
                  <span id="wsLabel">Disconnected</span>
                </div>
              </div>
            </div>
          </div>

          <div class="tabs">
            <div
              class="tab active"
              id="tabPublic"
              onclick="switchTab('public')"
            >
              Public
            </div>
            <div class="tab" id="tabPrivate" onclick="switchTab('private')">
              Private
            </div>
          </div>

          <div class="sidebar-section" id="contactList">
            <!-- contacts injected here -->
            <div style="padding: 16px; font-size: 12px; color: var(--muted)">
              In <b>Private</b> tab, type a username to start a DM.
            </div>
          </div>

          <div class="sidebar-footer">
            <button class="btn-logout" onclick="logout()">Sign out</button>
          </div>
        </div>

        <!-- MAIN -->
        <div id="chatMain">
          <div id="connectBanner">
            <span>WebSocket not connected</span>
            <button class="btn-connect" onclick="connect()">Connect</button>
          </div>

          <div class="chat-header">
            <div class="avatar" id="chatAvatar">#</div>
            <div class="chat-header-info">
              <div class="chat-header-name" id="chatTitle">Public Channel</div>
              <div class="chat-header-sub" id="chatSub">
                All connected users
              </div>
            </div>
            <span class="mode-badge public" id="modeBadge">PUBLIC</span>
          </div>

          <div id="messages"></div>

          <div class="chat-input-area">
            <div class="receiver-row hidden" id="receiverRow">
              <span>To:</span>
              <input id="receiverInput" placeholder="Username" />
            </div>
            <div class="input-row">
              <input
                type="text"
                id="msgInput"
                placeholder="Type a message…"
                onkeydown="handleKey(event)"
              />
              <button
                class="btn-send"
                id="sendBtn"
                onclick="sendMessage()"
                disabled
              >
                <svg viewBox="0 0 24 24">
                  <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // ---- STATE ----
      let stompClient = null;
      let currentUser = null;
      let currentMode = "public"; // 'public' | 'private'
      let connected = false;

      // ---- LOGIN ----
      function login() {
        const username = document.getElementById("loginUsername").value.trim();
        const password = document.getElementById("loginPassword").value;
        const btn = document.getElementById("loginBtn");
        const err = document.getElementById("loginError");

        if (!username || !password) {
          err.textContent = "Please fill in all fields.";
          return;
        }

        btn.disabled = true;
        btn.textContent = "Signing in…";
        err.textContent = "";

        fetch("http://localhost:8080/api/v1/auth/login", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ username, password }),
        })
          .then((res) => {
            if (!res.ok) throw new Error("Invalid credentials");
            return res.json();
          })
          .then((data) => {
            const token =
              data.token || data.accessToken || data.jwt || data.message;
            if (!token) throw new Error("No token in response");
            localStorage.setItem("jwt", token);
            currentUser = username;
            showChat();
          })
          .catch((e) => {
            err.textContent = "❌ " + e.message;
            btn.disabled = false;
            btn.textContent = "Sign in";
          });
      }

      function showChat() {
        document.getElementById("loginPage").style.display = "none";
        document.getElementById("chatPage").classList.add("active");

        const initials = currentUser.slice(0, 2).toUpperCase();
        document.getElementById("myAvatar").textContent = initials;
        document.getElementById("myUsername").textContent = currentUser;
        document.getElementById("chatAvatar").textContent = "#";

        connect();
      }

      function logout() {
        if (stompClient) stompClient.disconnect();
        localStorage.removeItem("jwt");
        location.reload();
      }

      // ---- WEBSOCKET ----
      function connect() {
        const token = localStorage.getItem("jwt");
        if (!token) return;

        const socket = new SockJS("/ws");
        stompClient = Stomp.over(socket);
        stompClient.debug = null; // suppress logs

        stompClient.connect(
          { Authorization: "Bearer " + token },
          () => {
            connected = true;
            setWsStatus(true);

            stompClient.subscribe("/public/all", (msg) => {
              const body = JSON.parse(msg.body);
              appendMessage(body.sender, body.content, "public");
            });

            stompClient.subscribe("/user/queue/specific", (msg) => {
              const body = JSON.parse(msg.body);
              appendMessage(body.sender, body.content, "private");
            });

            document.getElementById("sendBtn").disabled = false;
            addSysMsg("Connected to Servify Chat ✓");
          },
          (err) => {
            connected = false;
            setWsStatus(false);
            document.getElementById("sendBtn").disabled = true;
          },
        );
      }

      function setWsStatus(ok) {
        const dot = document.getElementById("wsDot");
        const label = document.getElementById("wsLabel");
        const banner = document.getElementById("connectBanner");
        if (ok) {
          dot.className = "ws-dot connected";
          label.textContent = "Connected";
          banner.classList.add("hidden");
        } else {
          dot.className = "ws-dot error";
          label.textContent = "Disconnected";
          banner.classList.remove("hidden");
        }
      }

      // ---- TABS ----
      function switchTab(mode) {
        currentMode = mode;
        document
          .getElementById("tabPublic")
          .classList.toggle("active", mode === "public");
        document
          .getElementById("tabPrivate")
          .classList.toggle("active", mode === "private");

        const receiverRow = document.getElementById("receiverRow");
        const badge = document.getElementById("modeBadge");
        const title = document.getElementById("chatTitle");
        const sub = document.getElementById("chatSub");
        const avatar = document.getElementById("chatAvatar");

        if (mode === "public") {
          receiverRow.classList.add("hidden");
          badge.className = "mode-badge public";
          badge.textContent = "PUBLIC";
          title.textContent = "Public Channel";
          sub.textContent = "All connected users";
          avatar.textContent = "#";
          avatar.style.background =
            "linear-gradient(135deg, var(--accent2), #22d3ee)";
        } else {
          receiverRow.classList.remove("hidden");
          badge.className = "mode-badge private";
          badge.textContent = "PRIVATE";
          title.textContent = "Direct Message";
          sub.textContent = "Only visible to recipient";
          avatar.textContent = "@";
          avatar.style.background =
            "linear-gradient(135deg, var(--accent), #a78bfa)";
        }

        document.getElementById("msgInput").placeholder =
          mode === "public" ? "Message everyone…" : "Private message…";
      }

      // ---- SEND ----
      function sendMessage() {
        if (!stompClient || !connected) {
          addSysMsg("Not connected.");
          return;
        }

        const content = document.getElementById("msgInput").value.trim();
        if (!content) return;

        if (currentMode === "public") {
          stompClient.send(
            "/app/chat",
            {},
            JSON.stringify({ sender: currentUser, content }),
          );
        } else {
          const receiver = document
            .getElementById("receiverInput")
            .value.trim();
          if (!receiver) {
            document.getElementById("receiverInput").focus();
            return;
          }
          stompClient.send(
            "/app/private",
            {},
            JSON.stringify({ sender: currentUser, receiver, content }),
          );
          // show sent message locally (private msgs aren't echoed back to sender)
          appendMessage(currentUser, content, "private");
        }

        document.getElementById("msgInput").value = "";
      }

      function handleKey(e) {
        if (e.key === "Enter" && !e.shiftKey) {
          e.preventDefault();
          sendMessage();
        }
      }

      // ---- MESSAGES ----
      function appendMessage(sender, content, type) {
        const messages = document.getElementById("messages");
        const isMine = sender === currentUser;

        const row = document.createElement("div");
        row.className = "msg-row" + (isMine ? " mine" : "");

        const avEl = document.createElement("div");
        avEl.className = "avatar";
        avEl.style.width = "28px";
        avEl.style.height = "28px";
        avEl.style.fontSize = "10px";
        avEl.textContent = sender ? sender.slice(0, 2).toUpperCase() : "?";
        if (type === "private")
          avEl.style.background =
            "linear-gradient(135deg, var(--accent), #a78bfa)";

        const bubble = document.createElement("div");
        bubble.className = "msg-bubble";

        if (!isMine) {
          const senderEl = document.createElement("div");
          senderEl.className = "msg-sender";
          senderEl.textContent = sender;
          bubble.appendChild(senderEl);
        }

        const textEl = document.createElement("div");
        textEl.textContent = content;
        bubble.appendChild(textEl);

        const timeEl = document.createElement("div");
        timeEl.className = "msg-time";
        timeEl.textContent = new Date().toLocaleTimeString([], {
          hour: "2-digit",
          minute: "2-digit",
        });
        bubble.appendChild(timeEl);

        if (isMine) {
          row.appendChild(bubble);
          row.appendChild(avEl);
        } else {
          row.appendChild(avEl);
          row.appendChild(bubble);
        }

        messages.appendChild(row);
        messages.scrollTop = messages.scrollHeight;
      }

      function addSysMsg(text) {
        const messages = document.getElementById("messages");
        const div = document.createElement("div");
        div.className = "sys-msg";
        div.textContent = text;
        messages.appendChild(div);
        messages.scrollTop = messages.scrollHeight;
      }

      // ---- ENTER key on login ----
      document.addEventListener("keydown", (e) => {
        if (
          e.key === "Enter" &&
          document.getElementById("loginPage").style.display !== "none" &&
          !document.getElementById("loginPage").classList.contains("hidden")
        ) {
          login();
        }
      });
    </script>
  </body>
</html>
